# 분리배출 서비스 기능 정의서

[🔗 웹으로 보기](./index.html)

## 1. 서비스 개요
분리배출 서비스는 사용자가 폐기물에 대한 정보를 입력하면 AI 기반 분석을 통해 폐기물의 품목 및 재질을 판별하고, 이에 대한 지역별 배출 규정을 조합하여 최종 배출 가이드를 제공하는 기능을 핵심으로 합니다. 또한 사용자의 분리배출 실천을 촉진하기 위한 인증·포인트 커뮤니티 기능, 공동주택 중심의 대리 수거 매칭 기능을 포함하여 분리배출의 편의성과 지속성을 높이는 것을 목적으로 합니다.

![그림1](./images/IMAGE_001.png)

### 1.1 기능 구조도 (Hierarchy)

- 로그인 및 회원관리 
- 분리배출 서비스 (AI 기반 폐기물 인식) 
    - 입력: 촬영 기능, 폐기물 품목 인식, OCR 재질 인식, 바코드 인식, 사용자 피드백 수집 
    - 처리: 복합재질 매핑, 인식 신뢰도 안내, 온디바이스/클라우드 하이브리드 
- 배출 가이드 및 규정 매핑 
    - GPS 위치, 배출 규정 조회, 최종 가이드 생성, 가이드 저장 
- 인증 및 포인트·커뮤니티 
    - 활동: 인증샷 업로드, 게시글 작성, 댓글/좋아요, 챌린지 시스템 
    - 보상/관리: 포인트 적립/사용, 랭킹 시스템, 커뮤니티 인증 검증, 부정행위 탐지 
- 대리수거 매칭 
    - 수거 요청 생성, 매칭 기능, 수거 완료 인증, 수거자 인증·평판 시스템, 보상 지급, 수거 비용 지불 
- 공통/기타
    - 개인정보/동의 
    - UX·접근성·지역화

## 2. 상세 기능 정의

### 2.1 입력 기능

사용자가 서비스 이용을 위해 필요한 정보를 제공하는 단계입니다.

- 계정: 로그인, 회원가입, 비밀번호 재설정을 통해 계정 정보를 입력하며, 개인정보 및 위치정보 활용 동의를 선택합니다. 
- 폐기물 정보: 촬영 기능, 바코드/QR 스캔, OCR 문자 인식을 통해 수행되며, 사용자는 상황에 맞는 입력 방식(촬영 우선, 바코드 우선 등)을 선택할 수 있습니다. 
- 촬영 가이드: AR 기반 촬영 가이드를 제공하여 각도, 거리, 조명 상태를 안내합니다. 
- AI 분석: 입력된 이미지는 AI 모델로 분석되며, 인식 결과는 확신도와 후보 목록을 함께 제공하여 사용자가 직접 선택하거나 정정할 수 있습니다. 

### 2.2 조회 기능

입력된 정보와 분석 결과를 기반으로 사용자에게 필요한 정보를 제공합니다.

- 규정 및 가이드: AI 인식 결과와 GPS 정보를 활용하여 지역별 분리배출 규정을 조회하고, 품목·재질 기준 최종 배출 가이드를 생성하여 제공합니다. 조회된 가이드는 히스토리로 저장됩니다. 
- 활동 내역: 포인트 적립/사용 내역, 인증 활동 기록, 챌린지 참여 이력, 랭킹 정보, 커뮤니티 활동(게시글, 댓글) 내역을 조회합니다. 
- 대리 수거: 요청 상태, 완료 여부, 수거자의 인증 및 수행 이력을 조회할 수 있습니다. 

### 2.3 실천 및 참여 기능

사용자의 분리배출 활동과 커뮤니티 참여를 촉진합니다.

- 인증: 분리배출 인증샷을 업로드하면 자동 검증 및 커뮤니티 검수자 확인을 거쳐 인증됩니다. 검수 참여자에게는 보너스 포인트가 제공됩니다. 
- 포인트: 활동별 포인트 적립, 적립/사용 내역 조회, 상품 교환 또는 대리 수거 결제 기능을 지원합니다. 
- 커뮤니티/챌린지: 게시글/댓글/좋아요 등의 상호작용, 활동 기반 랭킹, 목표 기반 챌린지 참여를 지원합니다. 
- 부정행위 탐지: 동일 위치 반복 인증, 메타데이터 위조 등을 자동 감지합니다. 

### 2.4 대리 수거 기능

- 프로세스: 사용자가 요청을 등록하면 수거자가 수락·수행 후 완료 인증을 제출합니다. 완료 시 수거자에게 포인트 보상을 제공합니다. 
- 신뢰도 관리: 수거자의 본인 인증 여부와 과거 수행 이력을 표시하여 신뢰도를 높입니다.

## 3. 기능 요구사항 (Functional Requirements)

<table>
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>대분류</th>
      <th>중분류</th>
      <th>설명</th>
      <th>유형</th>
      <th>중요도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FUR-01-001</td>
      <td>로그인 및 회원관리</td>
      <td>로그인</td>
      <td>사용자가 서비스에 로그인하기 위해 이메일과 비밀번호를 입력하여 본인 여부를 확인하는 기능이며, 입력값 검증과 로그인 실패 사유 안내를 포함함.</td>
      <td>기능</td>
      <td>하</td>
    </tr>
    <tr>
      <td>FUR-01-002</td>
      <td>로그인 및 회원관리</td>
      <td>회원가입</td>
      <td>신규 사용자가 서비스 이용을 위해 이메일, 비밀번호, 닉네임, 거주지역(선택)을 입력하고, 약관과 개인정보 수집에 동의하여 계정을 생성하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-01-003</td>
      <td>로그인 및 회원관리</td>
      <td>비밀번호 재설정</td>
      <td>사용자가 비밀번호를 잊었을 때 등록된 이메일로 재설정 안내 메일을 발송하고 비밀번호를 변경할 수 있도록 지원하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-01-004</td>
      <td>로그인 및 회원관리</td>
      <td>회원 탈퇴/휴면</td>
      <td>사용자가 계정을 삭제하거나 장기간 미접속 시 휴면 처리하여 개인정보 보호를 강화하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-02-001</td>
      <td>AI 기반 폐기물 인식</td>
      <td>촬영 기능</td>
      <td>CameraX 기반 카메라 기능을 제공하여 폐기물을 촬영하고 분석을 위한 이미지를 확보하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-02-002</td>
      <td>AI 기반 폐기물 인식</td>
      <td>폐기물 품목 인식</td>
      <td>TACO, TrashNet 등 공개 폐기물 이미지 데이터셋 기반으로 학습된 사전학습 AI 모델을 활용하여 촬영된 폐기물의 품목을 자동 분석·인식하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-02-003</td>
      <td>AI 기반 폐기물 인식</td>
      <td>OCR 재질 인식</td>
      <td>제품 라벨에 표기된 재질 정보를 OCR 기술로 인식하여 품목 인식 결과를 보완하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-02-004</td>
      <td>AI 기반 폐기물 인식</td>
      <td>바코드 인식</td>
      <td>상품의 바코드 또는 QR 코드를 스캔하여 제품의 재질이나 제품군 정보를 조회하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-02-005</td>
      <td>AI 기반 폐기물 인식</td>
      <td>복합재질 매핑</td>
      <td>하나의 품목에 여러 재질이 포함된 경우, 사전 정의된 재질 구성 정보를 기반으로 복합 재질을 자동 매핑하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-02-006</td>
      <td>AI 기반 폐기물 인식</td>
      <td>인식 신뢰도 안내</td>
      <td>AI 인식 결과에 확신도(%)를 표기하고, 낮은 확신도 시 사용자에게 후보 목록 및 직접 선택 옵션을 제공하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-02-007</td>
      <td>AI 기반 폐기물 인식</td>
      <td>사용자 피드백 수집</td>
      <td>사용자가 인식 결과를 정정하거나 '정답/오답' 피드백을 제출하면 라벨 DB에 저장하고 재학습 파이프라인으로 연계하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-02-008</td>
      <td>AI 기반 폐기물 인식</td>
      <td>온디바이스/클라우드 하이브리드</td>
      <td>빠른 응답을 위한 온디바이스 경량 모델과 정밀 분석을 위한 클라우드 모델을 결합하여 상황별로 처리 경로를 선택하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-03-001</td>
      <td>배출 가이드 및 규정 매핑</td>
      <td>GPS 위치 인식</td>
      <td>스마트폰 GPS를 통해 사용자의 위치를 확인하고 행정동 기반 지역 정보를 조회하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-03-002</td>
      <td>배출 가이드 및 규정 매핑</td>
      <td>배출 규정 조회</td>
      <td>인식된 품목·재질 정보와 사용자의 위치 정보를 기반으로 해당 지역의 분리배출 규정을 데이터베이스에서 조회하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-03-003</td>
      <td>배출 가이드 및 규정 매핑</td>
      <td>최종 가이드 생성</td>
      <td>지역별 규정과 품목별 공통 분리배출 기준을 조합하여 사용자에게 최종 배출 가이드를 생성·제공하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-03-004</td>
      <td>배출 가이드 및 규정 매핑</td>
      <td>가이드 저장</td>
      <td>조회된 배출 가이드를 사용자 히스토리로 저장하여 이후 다시 확인할 수 있도록 지원하는 기능.</td>
      <td>기능</td>
      <td>하</td>
    </tr>
    <tr>
      <td>FUR-04-001</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>인증샷 업로드</td>
      <td>사용자가 실제 분리배출을 수행한 사진을 업로드하여 활동을 인증하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-04-002</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>포인트 적립</td>
      <td>분리배출 인증, 플로깅, 캠페인 참여 등 친환경 활동에 대해 포인트를 적립하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-04-003</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>포인트 사용</td>
      <td>적립된 포인트를 상점에서 상품이나 기프티콘 등으로 교환할 수 있도록 하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-04-004</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>게시글 작성</td>
      <td>사용자가 커뮤니티에 정보·후기 팁 등을 작성하여 공유하는 기능.</td>
      <td>기능</td>
      <td>하</td>
    </tr>
    <tr>
      <td>FUR-04-005</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>댓글/좋아요</td>
      <td>커뮤니티 게시글에 댓글 작성 또는 좋아요를 눌러 상호작용하는 기능.</td>
      <td>기능</td>
      <td>하</td>
    </tr>
    <tr>
      <td>FUR-04-006</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>랭킹 시스템</td>
      <td>사용자 활동(포인트, 인증 횟수 등)에 기반하여 주간 월간 랭킹을 산정해 제공하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-04-007</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>챌린지 시스템</td>
      <td>목표 기반 챌린지를 제공하고 사용자가 참여하여 달성 시 보상을 제공하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-04-008</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>커뮤니티 인증 검증</td>
      <td>자동 검증 결과 외에 커뮤니티 다수의 검수자 확인을 통해 인증 신뢰도를 올리고, 검수 참여자에게 보너스 포인트를 지급하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-04-009</td>
      <td>인증 포인트 및 커뮤니티</td>
      <td>부정행위 탐지</td>
      <td>동일위치, 짧은시간 내 반복인증, 메타데이터 위조 등 포인트 악용 패턴을 탐지해 자동 차단 및 수기검증 플래그를 생성하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-05-001</td>
      <td>대리 수거 매칭</td>
      <td>수거 요청 생성</td>
      <td>사용자가 주소·사진·배출장소 정보를 입력하여 대리 수거 요청을 생성하는 기능이며, 다가구·빌라 아파트 등 공동배출 환경 중심으로 지원함.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-05-002</td>
      <td>대리 수거 매칭</td>
      <td>매칭 기능</td>
      <td>생성된 대리 수거 요청을 인근 수거 가능 사용자에게 전달하고 요청 내용을 기반으로 매칭을 진행하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-05-003</td>
      <td>대리 수거 매칭</td>
      <td>수거 완료 인증</td>
      <td>수거자가 배출 완료 사진·위치·시간 정보를 제출하여 수거 완료 여부를 확인하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-05-004</td>
      <td>대리 수거 매칭</td>
      <td>수거 비용 지불</td>
      <td>대리 수거 요청 시 사용자가 포인트 또는 소액 비용을 지불하여 서비스를 이용할 수 있도록 하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-05-005</td>
      <td>대리 수거 매칭</td>
      <td>보상 지급</td>
      <td>수거자가 요청을 수행하고 인증을 완료하면 포인트 보상을 지급하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-05-006</td>
      <td>대리 수거 매칭</td>
      <td>수거자 인증, 평판 시스템</td>
      <td>수거자에 대한 본인인증 시스템, 수행 완료율(이력/리뷰)을 관리하여 매칭 시 표시하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-06-001</td>
      <td>개인정보/동의</td>
      <td>최초 수집 및 동의관리</td>
      <td>서비스 별 수집 데이터 최소화 원칙과 위치정보 활용 동의, 개인정보 처리 방침 동의 이력 저장을 제공하는 기능.</td>
      <td>기능</td>
      <td>상</td>
    </tr>
    <tr>
      <td>FUR-07-001</td>
      <td>UX·접근성 지역화</td>
      <td>AR 촬영 가이드</td>
      <td>인증샷 및 촬영 시 올바른 각도·거리·조명 안내를 실시간으로 제공하여 인증 품질을 높이는 AR 가이드 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
    <tr>
      <td>FUR-07-002</td>
      <td>UX·접근성 지역화</td>
      <td>다국어 및 접근성 지원</td>
      <td>기본 한글 이외에 영어·중국어 등 다국어 지원과 색약 저시력 사용자를 위한 UI/접근성 옵션을 제공하는 기능.</td>
      <td>기능</td>
      <td>중</td>
    </tr>
  </tbody>
</table>

## 4. 비기능 요구사항 (Non-Functional Requirements)

<table>
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>대분류</th>
      <th>중분류</th>
      <th>설명</th>
      <th>유형</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>NFR-01-001</td>
      <td>데이터/AI</td>
      <td>라벨링 파이프라인</td>
      <td>라벨링 가이드/검수자 워크플로우/샘플 추출 규칙을 갖춘 데이터 라벨링 파이프라인을 운영하여 고품질 학습데이터를 확보하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-02-001</td>
      <td>규정 관리</td>
      <td>규정 버전관리</td>
      <td>행정동별 규정의 출처와 최종 업데이트 일자를 기록하고, 규정 변경 시 이전 버전과 변경이력을 보존하여 가이드에 적용된 규정 버전을 표기하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-02-002</td>
      <td>규정 관리</td>
      <td>규정 우선순위 처리</td>
      <td>동일 품목에 대해 다수 규정이 존재할 경우 적용 우선순위를 자동으로 판단하여 최종 가이드를 생성하는 규칙 엔진(예: 지자체 고시 우선) 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-03-001</td>
      <td>보안/개인정보</td>
      <td>데이터 암호화 및 보관정책</td>
      <td>이미지, 위치 개인정보 전송 시 TLS, 저장 시 AES 암호화 적용, 인증사진·위치 데이터의 보관기간(예: 1년) 및 익명화/삭제 정책을 제공하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-04-001</td>
      <td>운영/모니터링</td>
      <td>KPI 대시보드</td>
      <td>모델 정확도, 사용자 인증건수, 매칭 성공률, 포인트 발행/사용 통계, 이상탐지 이벤트 등을 운영자가 실시간 확인가능한 대시보드를 제공하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-04-002</td>
      <td>운영/모니터링</td>
      <td>이상탐지 알림</td>
      <td>규정 수집 실패, 모델 성능 저하, 결제 장애 등 주요 이상 발생 시 운영자에게 알림(이메일/슬랙/앱) 전송 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-05-001</td>
      <td>정책/법무</td>
      <td>보험/배상 정책 연동</td>
      <td>수거 중 발생한 분실/파손/사고에 대해 적용되는 보험 또는 배상 규정을 관리하고, 이용약관과 연동하여 보상처리 프로세스를 제공하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-05-002</td>
      <td>정책/법무</td>
      <td>결제·환불 및 분쟁 처리</td>
      <td>포인트 결제 또는 대리 수거 서비스 이용시 발생할 수 있는 환불 요청, 결제 오류, 분쟁 상황을 운영자가 처리할 수 있도록 접수·증빙 제출·검토·결과 통지 절차를 제공하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-06-001</td>
      <td>지자체/업체 연동 API</td>
      <td>-</td>
      <td>지자체, 재활용업체, 제조사 등에 배출 가이드, 제품 재질 데이터 등을 제공하거나 연동하는 B2G/B2B API를 제공하는 기능.</td>
      <td>비기능</td>
    </tr>
    <tr>
      <td>NFR-06-002</td>
      <td>비즈니스 확장</td>
      <td>리사이클 마켓플레이스</td>
      <td>대량 및 특수재활용품에 대해 수거업체 매칭/판매/거래를 연결하는 마켓플레이스 연동 기능(희망 수거가, 입찰 등).</td>
      <td>비기능</td>
    </tr>
  </tbody>
</table>